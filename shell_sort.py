# Сортировка Шелла (Shell Sort)

def shell_sort(arr):
    n = len(arr)  # Длина списка
    gap = n // 2  # Изначально шаг равен половине длины списка
    
    # Уменьшаем шаг, пока он не станет равным 0
    while gap > 0:
        # Внутренний цикл для прохода по элементам, находящимся на расстоянии gap друг от друга
        for i in range(gap, n):
            temp = arr[i]  # Сохраняем текущий элемент в переменную temp
            j = i
            # Сдвигаем элементы, пока не найдем правильное место для temp
            while j >= gap and arr[j - gap] > temp:
                arr[j] = arr[j - gap]  # Сдвигаем элемент на позицию j
                j -= gap  # Переходим на шаг назад (на расстоянии gap)
            arr[j] = temp  # Вставляем temp на правильное место
        gap //= 2  # Уменьшаем шаг вдвое для следующего прохода
    
    return arr  # Возвращаем отсортированный список

# Пример использования
numbers = [64, 34, 25, 12, 22, 11, 90]
print(shell_sort(numbers))  # Вывод: [11, 12, 22, 25, 34, 64, 90]